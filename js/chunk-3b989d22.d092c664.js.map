{"version":3,"sources":["webpack:///./src/module-hmmm/components/companys-add.vue?002a","webpack:///src/module-hmmm/components/companys-add.vue","webpack:///./src/module-hmmm/components/companys-add.vue?0a52","webpack:///./src/module-hmmm/components/companys-add.vue","webpack:///./src/module-hmmm/components/companys-add.vue?1563","webpack:///./src/api/base/users.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","titleInfo","text","pageTitle","dialogFormVisible","on","$event","ref","staticStyle","ruleInline","formBase","model","value","callback","$$v","$set","expression","_v","type","indexOf","_k","keyCode","key","handleFilter","apply","arguments","handleProvince","_l","citySelect","item","minRows","maxRows","slot","dialogFormH","_s","$t","createData","staticRenderFns","name","props","required","data","province","cityDate","shortName","message","trigger","tags","computed","methods","dialogFormV","getCityData","citys","e","city","$refs","dataForm","validate","valid","update","add","mounted","created","updated","component","listUsers","createAPI","id","remove"],"mappings":"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","file":"js/chunk-3b989d22.d092c664.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form\"},[_c('el-dialog',{attrs:{\"title\":_vm.titleInfo.text+_vm.titleInfo.pageTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"dataForm\",staticStyle:{\"width\":\"80%\",\"margin-left\":\"10px\"},attrs:{\"rules\":_vm.ruleInline,\"model\":_vm.formBase,\"label-position\":\"left\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"企业名称\",\"prop\":\"shortName\"}},[_c('el-input',{model:{value:(_vm.formBase.shortName),callback:function ($$v) {_vm.$set(_vm.formBase, \"shortName\", $$v)},expression:\"formBase.shortName\"}}),_c('el-checkbox',{model:{value:(_vm.formBase.isFamous),callback:function ($$v) {_vm.$set(_vm.formBase, \"isFamous\", $$v)},expression:\"formBase.isFamous\"}},[_vm._v(\"是否为名企\")])],1),_c('el-form-item',{attrs:{\"label\":\"所属公司\",\"prop\":\"company\"}},[_c('el-input',{model:{value:(_vm.formBase.company),callback:function ($$v) {_vm.$set(_vm.formBase, \"company\", $$v)},expression:\"formBase.company\"}}),_c('p',[_vm._v(\"https://www.tianyancha.com （在此可查询所属公司全称及简称）\")])],1),_c('el-form-item',{attrs:{\"label\":\"城市\",\"prop\":\"province\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"filterable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter.apply(null, arguments)},\"change\":_vm.handleProvince},model:{value:(_vm.formBase.province),callback:function ($$v) {_vm.$set(_vm.formBase, \"province\", $$v)},expression:\"formBase.province\"}},_vm._l((_vm.citySelect.province),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"filterable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter.apply(null, arguments)}},model:{value:(_vm.formBase.city),callback:function ($$v) {_vm.$set(_vm.formBase, \"city\", $$v)},expression:\"formBase.city\"}},_vm._l((_vm.citySelect.cityDate),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"方向（企业标签）\",\"prop\":\"tags\"}},[_c('el-input',{model:{value:(_vm.formBase.tags),callback:function ($$v) {_vm.$set(_vm.formBase, \"tags\", $$v)},expression:\"formBase.tags\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 4},\"placeholder\":\"请输入\"},model:{value:(_vm.formBase.remarks),callback:function ($$v) {_vm.$set(_vm.formBase, \"remarks\", $$v)},expression:\"formBase.remarks\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.dialogFormH}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"add-form\">\n    <el-dialog :title=\"titleInfo.text+titleInfo.pageTitle\" :visible.sync=\"dialogFormVisible\">\n      <el-form\n        :rules=\"ruleInline\"\n        ref=\"dataForm\"\n        :model=\"formBase\"\n        label-position=\"left\"\n        label-width=\"150px\"\n        style=\"width: 80%; margin-left:10px;\"\n      >\n        <el-form-item label=\"企业名称\" prop=\"shortName\">\n          <el-input v-model=\"formBase.shortName\"></el-input>\n          <el-checkbox v-model=\"formBase.isFamous\">是否为名企</el-checkbox>\n        </el-form-item>\n        <el-form-item label=\"所属公司\" prop=\"company\">\n          <el-input v-model=\"formBase.company\"></el-input>\n          <p>https://www.tianyancha.com （在此可查询所属公司全称及简称）</p>\n        </el-form-item>\n        <el-form-item label=\"城市\" prop=\"province\">\n          <el-select\n            class=\"filter-item\"\n            style=\"width: 130px;\"\n            v-model=\"formBase.province\"\n            @keyup.enter=\"handleFilter\"\n            @change=\"handleProvince\"\n            filterable\n          >\n            <el-option v-for=\"item in citySelect.province\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n          </el-select>\n          <el-select\n            class=\"filter-item\"\n            style=\"width: 130px;\"\n            v-model=\"formBase.city\"\n            @keyup.enter=\"handleFilter\"\n            filterable\n          >\n            <el-option v-for=\"item in citySelect.cityDate\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"方向（企业标签）\" prop=\"tags\">\n          <el-input v-model=\"formBase.tags\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remarks\">\n          <el-input\n            type=\"textarea\"\n            :autosize=\"{ minRows: 2, maxRows: 4}\"\n            placeholder=\"请输入\"\n            v-model=\"formBase.remarks\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormH\">{{$t('table.cancel')}}</el-button>\n        <el-button type=\"primary\" @click=\"createData\">{{$t('table.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { update, add } from '@/api/base/users'\nimport { provinces, citys } from '@/api/hmmm/citys.js'\nexport default {\n  name: 'CompanysAdd',\n  props: {\n    titleInfo: {\n      type: Object,\n      required: true\n    },\n    formBase: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      dialogFormVisible: false,\n      citySelect: {\n        province: [],\n        cityDate: []\n      },\n      // 表单验证\n      ruleInline: {\n        shortName: [\n          { required: true, message: '企业简称不能为空', trigger: 'blur' }\n        ],\n        province: [\n          { required: true, message: '请选择省份', trigger: 'change' }\n        ],\n        tags: [{ required: true, message: '请请输标签', trigger: 'blur' }]\n      }\n    }\n  },\n  computed: {},\n  methods: {\n    // 弹层显示\n    dialogFormV () {\n      this.dialogFormVisible = true\n    },\n    // 弹层隐藏\n    dialogFormH () {\n      this.dialogFormVisible = false\n    },\n    // 获取省\n    getCityData: function () {\n      this.citySelect.province = provinces()\n    },\n    // 选省获取到市\n    handleProvince: function (e) {\n      this.citySelect.cityDate = citys(e)\n      this.formBase.city = this.citySelect.cityDate[0]\n    },\n    // 表单提交\n    createData () {\n      this.$refs.dataForm.validate(async valid => {\n        if (valid) {\n          this.dialogFormH()\n          const data = {\n            ...this.formBase\n          }\n          if (this.formBase.id) {\n            await update(data).then(() => {\n              this.$emit('newDataes', this.formBase)\n            })\n          } else {\n            await add(this.formBase).then(() => {\n              this.$emit('newDataes', this.formBase)\n            })\n          }\n        } else {\n          this.$message.error('*号为必填项!')\n        }\n      })\n    }\n  },\n  // 挂载结束\n\n  mounted: function () {},\n  // 创建完毕状态\n  created () {\n    this.getCityData()\n  },\n  // 组件更新\n  updated: function () {}\n}\n</script>\n<style>\n.el-form--label-left .el-form-item__label {\n  text-align: right;\n}\n.el-form-item--medium {\n  margin-bottom: 22px;\n}\n.el-dialog__footer {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./companys-add.vue?vue&type=template&id=44cd9740&\"\nimport script from \"./companys-add.vue?vue&type=script&lang=js&\"\nexport * from \"./companys-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./companys-add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=style&index=0&lang=css&\"","import { createAPI } from '@/utils/request'\n\nexport const listUsers = data => createAPI('/users/', 'get', data)\nexport const simple = data => createAPI('/users/simple', 'get', data)\nexport const add = data => createAPI('/users', 'post', data)\nexport const update = data => createAPI(`/users/${data.id}`, 'put', data)\nexport const remove = data => createAPI(`/users/${data.id}`, 'delete', data)\nexport const detail = data => createAPI(`/users/${data.id}`, 'get', data)\n"],"sourceRoot":""}