(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4007d3a4"],{"3e8e":function(e,t,n){},"4ecf":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a}));var r=n("b775"),o=function(e){return Object(r["a"])("/subjects","get",e)},i=function(e){return Object(r["a"])("/subjects/simple","get",e)},c=function(e){return Object(r["a"])("/subjects","post",e)},s=function(e){return Object(r["a"])("/subjects/".concat(e.id),"put",e)},a=function(e){return Object(r["a"])("/subjects/".concat(e.id),"delete",e)}},"546c":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a}));n("99af");var r=n("b775"),o=function(e){return Object(r["a"])("/companys","get",e)},i=function(e){return Object(r["a"])("/companys","post",e)},c=function(e){return Object(r["a"])("/companys/".concat(e.id),"put",e)},s=function(e){return Object(r["a"])("/companys/".concat(e.id),"delete",e)},a=function(e){return Object(r["a"])("/companys/".concat(e.id,"/").concat(e.state),"post",e)}},"9eca":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m}));n("99af");var r=n("b775"),o=function(e){return Object(r["a"])("/questions","get",e)},i=function(e){return Object(r["a"])("/questions/".concat(e.id),"get",e)},c=function(e){return Object(r["a"])("/questions","post",e)},s=function(e){return Object(r["a"])("/questions/".concat(e.id),"delete",e)},a=function(e){return Object(r["a"])("/questions/choice/".concat(e.id,"/").concat(e.choiceState),"patch",e)},l=function(e){return Object(r["a"])("/questions/choice","get",e)},u=function(e){return Object(r["a"])("/questions/choice/".concat(e.id,"/").concat(e.publishState),"post",e)},d=function(e){return Object(r["a"])("/questions/check/".concat(e.id),"post",e)},p=function(e){return Object(r["a"])("/questions/randoms","get",e)},m=function(e){return Object(r["a"])("/questions/randoms/".concat(e.id),"delete",e)}},a77a:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return l}));n("99af");var r=n("b775"),o=function(e){return Object(r["a"])("/directorys","get",e)},i=function(e){return Object(r["a"])("/directorys/simple","get",e)},c=function(e){return Object(r["a"])("/directorys","post",e)},s=function(e){return Object(r["a"])("/directorys/".concat(e.id),"put",e)},a=function(e){return Object(r["a"])("/directorys/".concat(e.id),"delete",e)},l=function(e){return Object(r["a"])("/directorys/".concat(e.id,"/").concat(e.state),"post",e)}},beec:function(e,t,n){"use strict";n("3e8e")},d463:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("el-card",{scopedSlots:e._u([{key:"header",fn:function(){return[n("span",[e._v("试题录入")])]},proxy:!0}])},[n("el-form",{ref:"newForm",attrs:{model:e.newForm,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"学科：",prop:"subjectID"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getSimpleDirectorys},model:{value:e.newForm.subjectID,callback:function(t){e.$set(e.newForm,"subjectID",t)},expression:"newForm.subjectID"}},e._l(e.subjectList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"目录：",prop:"catalogID"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newForm.catalogID,callback:function(t){e.$set(e.newForm,"catalogID",t)},expression:"newForm.catalogID"}},e._l(e.directoryList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"企业：",prop:"enterpriseID"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newForm.enterpriseID,callback:function(t){e.$set(e.newForm,"enterpriseID",t)},expression:"newForm.enterpriseID"}},e._l(e.companyList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.company,value:e.id}})})),1)],1),n("el-form-item",{staticClass:"city-item",attrs:{label:"城市：",required:""}},[n("el-col",{attrs:{span:3}},[n("el-form-item",{attrs:{prop:"province"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getCityList},model:{value:e.newForm.province,callback:function(t){e.$set(e.newForm,"province",t)},expression:"newForm.province"}},e._l(e.provincesList,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),n("el-col",{staticClass:"inline",attrs:{span:3}},[n("el-form-item",{attrs:{prop:"city"}},[n("el-select",{staticStyle:{"margin-left":"4px"},attrs:{"collapse-tags":"",placeholder:"请选择"},model:{value:e.newForm.city,callback:function(t){e.$set(e.newForm,"city",t)},expression:"newForm.city"}},e._l(e.cityList,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1),n("el-form-item",{attrs:{label:"方向：",prop:"direction"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newForm.direction,callback:function(t){e.$set(e.newForm,"direction",t)},expression:"newForm.direction"}},e._l(e.directionList,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),n("el-form-item",{attrs:{label:"题型：",prop:"questionType"}},[n("el-radio-group",{model:{value:e.newForm.questionType,callback:function(t){e.$set(e.newForm,"questionType",t)},expression:"newForm.questionType"}},[n("el-radio",{attrs:{label:"1"}},[e._v("单选")]),n("el-radio",{attrs:{label:"2"}},[e._v("多选")]),n("el-radio",{attrs:{label:"3"}},[e._v("简答")])],1)],1),n("el-form-item",{attrs:{label:"难度：",prop:"difficulty"}},[n("el-radio-group",{model:{value:e.newForm.difficulty,callback:function(t){e.$set(e.newForm,"difficulty",t)},expression:"newForm.difficulty"}},[n("el-radio",{attrs:{label:"1"}},[e._v("简单")]),n("el-radio",{attrs:{label:"2"}},[e._v("一般")]),n("el-radio",{attrs:{label:"3"}},[e._v("困难")])],1)],1),n("el-form-item",{staticClass:"quill",attrs:{label:"题干：",prop:"question"}},[n("quillEditor",{attrs:{options:e.options},model:{value:e.newForm.question,callback:function(t){e.$set(e.newForm,"question",t)},expression:"newForm.question"}})],1),e.newForm.questionType&&"1"!==e.newForm.questionType?e._e():n("el-form-item",{staticClass:"option",attrs:{label:"选项："}},e._l(e.newForm.options,(function(t){return n("el-row",{key:t.code,staticClass:"radio-item"},[n("el-radio",{attrs:{label:t.code},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[n("span",[e._v(e._s(t.code)+"：")]),n("el-input",{staticClass:"radio-input",attrs:{size:"mini"},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"item.title"}})],1),n("el-upload",{staticClass:"uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("p",[e._v("上传图片")])]},proxy:!0}],null,!0)},[n("i",{staticClass:"el-icon-circle-close"})])],1)})),1),"2"===e.newForm.questionType?n("el-form-item",{staticClass:"option",attrs:{label:"选项："}},e._l(e.newForm.options,(function(t,r){return n("el-row",{key:r,staticClass:"checkbox-item"},[n("el-checkbox",{attrs:{label:t.code},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}},[n("span",[e._v(e._s(t.code)+"：")]),n("el-input",{staticClass:"radio-input",attrs:{size:"mini"},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"item.title"}})],1),n("el-upload",{staticClass:"uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("p",[e._v("上传图片")])]},proxy:!0}],null,!0)},[n("i",{staticClass:"el-icon-circle-close"})])],1)})),1):e._e(),n("el-form-item",["3"!==e.newForm.questionType?n("el-button",{attrs:{disabled:!e.newForm.questionType||"1"===e.newForm.questionType,type:"danger"},on:{click:e.addOptipn}},[e._v("+增加选项与答案")]):e._e()],1),n("el-form-item",{attrs:{label:"解析视频："}},[n("el-input",{staticClass:"video-input",model:{value:e.newForm.videoURL,callback:function(t){e.$set(e.newForm,"videoURL",t)},expression:"newForm.videoURL"}})],1),n("el-form-item",{staticClass:"quill",attrs:{label:"答案解析：",prop:"answer"}},[n("quillEditor",{attrs:{options:e.options},model:{value:e.newForm.answer,callback:function(t){e.$set(e.newForm,"answer",t)},expression:"newForm.answer"}})],1),n("el-form-item",{attrs:{label:"题目备注："}},[n("el-input",{staticClass:"video-input",attrs:{type:"textarea",rows:4},model:{value:e.newForm.remarks,callback:function(t){e.$set(e.newForm,"remarks",t)},expression:"newForm.remarks"}})],1),n("el-form-item",{attrs:{label:"试题标签："}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择试题标签"},model:{value:e.newForm.tags,callback:function(t){e.$set(e.newForm,"tags",t)},expression:"newForm.tags"}},e._l(e.tagsList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确认提交")])],1)],1)],1)],1)},o=[],i=n("1da1"),c=(n("d3b7"),n("159b"),n("c740"),n("ac1f"),n("5319"),n("96cf"),n("953d")),s=(n("a753"),n("8096"),n("14e1"),n("4ecf")),a=n("a77a"),l=n("546c"),u=n("fcec"),d=n("9eca"),p=n("b59c"),m={placeholder:"请输入文章内容",modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["image","link"]]}},f={name:"QuestionsNew",data:function(){return{checkbox:[],radio:"",options:m,directionList:["o2o","外包服务","企业服务","互联网金融","企业咨询","互联网","电子商务","其他"],tagsList:[],cityList:[],provincesList:[],companyList:[],directoryList:[],subjectList:[],newForm:{answer:null,catalogID:null,city:null,province:null,direction:null,difficulty:null,enterpriseID:null,options:[{code:"A",title:"",img:null,isRight:!1},{code:"B",title:"",img:null,isRight:!1},{code:"C",title:"",img:null,isRight:!1},{code:"D",title:"",img:null,isRight:!1}],question:null,questionType:null,remarks:null,subjectID:null,tags:null,videoURL:null},rules:{subjectID:[{required:!0,message:"请选择学科",trigger:"blur"}],catalogID:[{required:!0,message:"请选择目录",trigger:"blur"}],enterpriseID:[{required:!0,message:"请选择企业",trigger:"blur"}],province:[{required:!0,message:"请选择城市",trigger:"blur"}],city:[{required:!0,message:"请选择地区",trigger:"blur"}],direction:[{required:!0,message:"请选择方向",trigger:"blur"}],questionType:[{required:!0,message:"请选择题型",trigger:"blur"}],difficulty:[{required:!0,message:"请选择难度",trigger:"blur"}],question:[{required:!0,message:"请输入题干",trigger:"blur"}],answer:[{required:!0,message:"请输入答案解析",trigger:"blur"}]}}},components:{quillEditor:c["quillEditor"]},created:function(){this.initList(),this.provincesList=Object(p["b"])(),this.dataShow()},watch:{radio:function(e){this.setRadioTrue(e)},checkbox:function(e){this.setCheckBox(e)}},methods:{initList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s["d"])();case 3:return n=t.sent,r=n.data,t.next=7,Object(l["c"])({pagesize:1e7});case 7:o=t.sent,i=o.data.items,e.subjectList=r,e.companyList=i,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},getSimpleDirectorys:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o,i,c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.newForm.catalogID=null,t.newForm.tags=null,n.prev=2,n.next=5,Object(a["e"])({subjectID:e});case 5:return o=n.sent,i=o.data,console.log(i),n.next=10,Object(u["e"])({subjectID:e});case 10:c=n.sent,s=c.data,t.directoryList=i,t.tagsList=s,t.newForm.catalogID=null===(r=t.directoryList[0])||void 0===r?void 0:r.value,n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](2),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[2,17]])})))()},getCityList:function(e){this.cityList=Object(p["a"])(e),this.newForm.city=this.cityList[0]},setRadioTrue:function(e){this.newForm.options.forEach((function(e){return e.isRight=!1}));var t=this.newForm.options.findIndex((function(t){return t.code===e}));this.newForm.options[t].isRight=!0},addOptipn:function(){var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],t=this.newForm.options[this.newForm.options.length-1].code,n=e.findIndex((function(e){return e===t})),r=e[n+1];this.newForm.options.push({code:r,title:"",img:null,isRight:!1})},setCheckBox:function(e){var t=this;this.newForm.options.forEach((function(e){e.isRight=!1})),e.forEach((function(e){t.newForm.options.forEach((function(t){t.code===e&&(t.isRight=!0)}))})),console.log(this.newForm.options)},submitForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.newForm.validate();case 2:return t.prev=2,t.next=5,Object(d["a"])(e.newForm);case 5:e.$refs.newForm.resetFields(),e.$message.success("试题添加成功"),e.$router.replace("list"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),e.$message.error("试题添加失败");case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},dataShow:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.query.id,!n){t.next=13;break}return t.next=4,Object(d["f"])({id:n});case 4:return r=t.sent,o=r.data,i=o.subjectID,t.next=9,Object(a["e"])({subjectID:i});case 9:c=t.sent,s=c.data,e.directoryList=s,e.newForm=o;case 13:case"end":return t.stop()}}),t)})))()}}},b=f,g=(n("beec"),n("2877")),w=Object(g["a"])(b,r,o,!1,null,"8f70ff52",null);t["default"]=w.exports},fcec:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return l}));n("99af");var r=n("b775"),o=function(e){return Object(r["a"])("/tags","get",e)},i=function(e){return Object(r["a"])("/tags/simple","get",e)},c=function(e){return Object(r["a"])("/tags/".concat(e.id),"get",e)},s=function(e){return Object(r["a"])("/tags","post",e)},a=function(e){return Object(r["a"])("/tags/".concat(e.id),"put",e)},l=function(e){return Object(r["a"])("/tags/".concat(e.id),"delete",e)}}}]);
//# sourceMappingURL=chunk-4007d3a4.40fcca3f.js.map