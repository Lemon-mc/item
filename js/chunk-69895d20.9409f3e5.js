(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69895d20"],{"0a1c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Container",[n("el-row",[n("el-col",{staticClass:"input-header",attrs:{span:3}},[n("el-input",{attrs:{placeholder:"根据用户名搜索"},on:{input:e.inputChange},model:{value:e.page.username,callback:function(t){e.$set(e.page,"username",t)},expression:"page.username"}})],1),n("el-button",{on:{click:e.handleClear}},[e._v("清空")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),n("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-edit",type:"success"},on:{click:e.handleAdd}},[e._v("新增用户")])],1),n("el-alert",{attrs:{closable:!1,title:"共"+e.count+"条记录",type:"info","show-icon":""}}),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list}},[n("el-table-column",{attrs:{align:"center",prop:"id",label:"序号",width:"180"}}),n("el-table-column",{attrs:{align:"center",prop:"email",label:"邮箱"}}),n("el-table-column",{attrs:{align:"center",prop:"phone",label:"联系电话"}}),n("el-table-column",{attrs:{align:"center",prop:"username",label:"用户名"}}),n("el-table-column",{attrs:{align:"center",prop:"permission_group_title",label:"权限组名称"}}),n("el-table-column",{attrs:{align:"center",prop:"role",label:"角色"}}),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{attrs:{icon:"el-icon-edit",circle:"",plain:"",size:"medium",type:"primary"},on:{click:function(t){return e.handleEdit(a)}}}),2!==a.id?n("el-button",{attrs:{icon:"el-icon-delete",circle:"",plain:"",size:"medium",type:"danger"},on:{click:function(t){return e.handleDelete(a.id)}}}):e._e()]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.page.page,"page-sizes":[10,20,30,50],"page-size":e.page.pagesize,layout:" prev, pager, next, sizes, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),n("UserAdd",{attrs:{isAdd:!0,isShow:e.isShowAdd},on:{getList:e.getList,"update:isShow":function(t){e.isShowAdd=t},"update:is-show":function(t){e.isShowAdd=t}}}),n("UserAdd",{attrs:{isShow:e.isShowEdit,user:e.user},on:{getList:e.getList,"update:isShow":function(t){e.isShowEdit=t},"update:is-show":function(t){e.isShowEdit=t}}})],1)],1)},i=[],r=n("1da1"),s=(n("96cf"),n("4f75")),c=n("990f"),o={name:"Users",components:{UserAdd:c["default"]},data:function(){return{user:{},list:[],page:{page:1,pagesize:10,disabled:1,username:""},count:0,isShowAdd:!1,isShowEdit:!1,loading:!0}},created:function(){this.getList()},methods:{handleSearch:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getList();case 1:case"end":return t.stop()}}),t)})))()},handleClear:function(){this.page.username="",this.getList()},inputChange:function(e){""===e&&this.getList()},handleAdd:function(){this.isShowAdd=!0},getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(s["b"])(e.page);case 4:n=t.sent,a=n.data,e.count=a.counts,e.list=a.list,e.page.page=1*a.page,e.page.pagesize=1*a.pagesize,e.count=1*a.counts,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),e.$message.error("获取用户列表失败");case 16:e.loading=!1;case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},handleSizeChange:function(e){this.page.pagesize=e,this.getList()},handleCurrentChange:function(e){this.page.page=e,this.getList()},handleEdit:function(e){this.isShowEdit=!0,this.user=e},handleDelete:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return n.prev=2,n.next=5,Object(s["c"])({id:e});case 5:t.getList(),t.$message.success("删除成功"),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),t.$message.error("删除失败");case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()}}},l=o,u=(n("dcf6"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,"4d8f9bda",null);t["default"]=d.exports},b83f:function(e,t,n){},dcf6:function(e,t,n){"use strict";n("b83f")}}]);
//# sourceMappingURL=chunk-69895d20.9409f3e5.js.map